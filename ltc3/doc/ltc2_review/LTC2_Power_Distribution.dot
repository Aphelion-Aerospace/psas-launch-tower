graph LTC2_Power {

  label = "LTC II Power Distribution"
  layout = circo
//overlap = false
  node [shape = record];
  edge [color = red
        dir = none];


// Nodes
//

power_board [label = "Power Board"];

subgraph cluster_sources {
  label = "Sources";
  style = dotted;
  color = grey;

  pv_panel [label = "PV Panel"];
  battery_main [label = "Main Battery"];
  battery_ignition [label = "Ignition Battery"];
}

subgraph cluster_conditioners {
  label = "Conditioners";
  style = dotted;
  color = grey;

  battery_charger [label = "Battery Charger"];
  dcdc_converter [label = "DC-DC Converter"];
  solar_converter [label = "Solar Converter"];
}

subgraph cluster_sinks {
  label = "Sinks";
  style = dotted;
  color = grey;

  computer [label = "BeagleBoard SBC"];
  ignition_board [label = "Ignition Board"];
  board_phidget_interface [label ="Phidget Interface Board"]
  rocket_pdu [label = "Rocket PDU"];
}


// Connections
//


pv_panel -- power_board
  [dir = forward];

power_board -- battery_main
  [dir = both];

power_board -- solar_converter
  [dir = both];

power_board -- battery_charger
  [dir = both label = "Vbatt"];

battery_charger -- ignition_board
  [dir = forward label = "Vbatt"];

power_board -- dcdc_converter
  [dir = both];


power_board -- computer
  [dir = forward label = "5 V"];

power_board -- board_phidget_interface
  [dir = forward label = "Vbatt"];

power_board -- ignition_board
  [dir = forward label = "5 V, 24 V"];

power_board -- rocket_pdu
  [dir = forward label = "24 V"];


ignition_board -- battery_ignition
  [dir = both];

}
